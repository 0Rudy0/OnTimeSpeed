@using OnTimeSpeed.Utils

@model OnTimeSpeed.Models.User

@Styles.Render("~/Content/Index")

@{
    ViewBag.Title = "Home Page";
    var ontimeUrl = AppSettings.Get("ontimeUrl");
    var clientId = AppSettings.Get("clientId");
    var appUrl = string.Format("{0}://{1}{2}", Request.Url.Scheme, Request.Url.Authority, Url.Content("~"));
    var connectUrl = $"{ontimeUrl}/auth?response_type=code&client_id={clientId}&redirect_uri={appUrl}Home/GetAuthCode&scope=read%20write";
    var containerClass = Model == null ? "hide" : "";
}


@if (Model == null)
{
    <a href="@connectUrl" class="connectBtn hide">
        <i class="fas fa-sign-in-alt"></i>
        Prijavi se u OnTime
    </a>
}
else
{
    <div class="spinner">
        <div class="bounce1"></div>
        <div class="bounce2"></div>
        <div class="bounce3"></div>
    </div>
    <div class="container">
        @*<h4>Dobrodošao @Model.name</h4>*@
        @*<div class="buttons">
            <a class="waves-effect waves-light btn-large blue-grey darken-1 withIcon" id="addLunchBtn">
                <i class="fad fa-utensils-alt"></i>
                <span>unesi ručak do danas</span>
            </a>
            <a class="waves-effect waves-light btn-large deep-orange darken-4 withIcon" id="addHolidaysButtons">
                <i class="fad fa-lights-holiday"></i>
                <span>unesi praznike do kraja mjeseca</span>
            </a>
        </div>
        <br />*@

        <div class="row">
            <div class="col s12">
                <nav>
                    <div class="nav-wrapper blue-grey darken-3">
                        <div class="col s12" style="padding-left: 20px;" id="breadCrumbs">
                            <a href="#!" onclick="getWorkLogs()" class="breadcrumb clickable">Sve</a>
                        </div>
                    </div>
                </nav>
            </div>
            <div class="col s12">
                <div id="workLogChart"></div>
            </div>
            <br />
            <div class="col s12">
                <div class="card blue-grey darken-1">
                    <div class="card-content white-text">
                        <span class="card-title">Automagični unos</span>
                        <div class="buttonPreselects">
                            <a class="waves-effect waves-light btn btn-large blue-grey darken-2 withIcon" id="addLunchBtn">
                                <i class="fad fa-utensils-alt"></i>
                                <span>Ručak</span>
                            </a>
                            <a class="waves-effect waves-light btn btn-large blue-grey darken-2 withIcon" id="addHolidaysButtons">
                                <i class="fad fa-lights-holiday"></i>
                                <span>Praznici</span>
                            </a>
                            <a class="waves-effect waves-light btn btn-large blue-grey darken-2 withIcon" id="addHolidaysButtons">
                                <i class="fad fa-umbrella-beach"></i>
                                <span>GO / plaćeni dopust</span>
                            </a>
                            <a class="waves-effect waves-light btn btn-large blue-grey darken-2 withIcon" id="addHolidaysButtons">
                                <i class="fad fa-business-time"></i>
                                <span>Službeni put</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col s12 m12">
                <div class="card blue-grey darken-1">
                    <div class="card-content white-text">
                        <span class="card-title">Ručni unos</span>
                        <div class="buttonPreselects">
                            <a class="waves-effect waves-light btn btn-largee blue-grey darken-3" onclick="preselectRange('lastM')">
                                <span>Prošli mjesec</span>
                            </a>
                            <a class="waves-effect waves-light btn btn-largee blue-grey darken-3" onclick="preselectRange('lastW')">
                                <span>Prošli tjedan</span>
                            </a>
                            <a class="waves-effect waves-light btn btn-largee blue-grey darken-3" onclick="preselectRange('thisW')">
                                <span>Ovaj tjedan</span>
                            </a>
                            <a class="waves-effect waves-light btn btn-largee blue-grey darken-3" onclick="preselectRange('thisM')">
                                <span>Ovaj mjesec</span>
                            </a>
                        </div>
                        <div class="dateRangePickers">
                            <div class="dateFromHolder dateHolder">
                                <label>Datum od</label>
                                <input type="text" id="dateFromPicker" class="datepicker">
                            </div>
                            <div class="dateToHolder dateHolder">
                                <label>Datum do</label>
                                <input type="text" id="dateToPicker" class="datepicker">
                            </div>
                        </div>
                        <div class="workTypes">
                            <label class="workTypeLabel">
                                <input name="workType" type="radio" />
                                <span>Ručak</span>
                            </label>
                            <label class="workTypeLabel">
                                <input name="workType" type="radio" />
                                <span>Bolovanje</span>
                            </label>
                            <label class="workTypeLabel">
                                <input name="workType" type="radio" />
                                <span>GO</span>
                            </label>
                            <label class="workTypeLabel">
                                <input name="workType" type="radio" />
                                <span>Nešto drugo</span>
                            </label>
                        </div>
                    </div>
                    <div class="card-action">
                        <a href="#">Unesi</a>
                    </div>
                </div>
            </div>
        </div>

    </div>

}

@section scripts {
    @Scripts.Render("~/bundles/Index")
}